(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{318:function(r,t,o){"use strict";o.r(t);var e=o(10),a=Object(e.a)({},(function(){var r=this,t=r._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[t("h1",{attrs:{id:"介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[r._v("#")]),r._v(" 介绍")]),r._v(" "),t("p",[t("strong",[r._v("Monaco 编辑器")]),r._v("（以下均以 Monaco 代指）是一款用来支持 VS Code 的代码编辑器，它提供了大部分 VS Code 中所支持的功能，同时也内置了非常多的常用编程语言用以语法高亮。使用它可以在 Web 项目中快速实现代码编辑等功能，但目前仅支持 Edge、Chrome、FireFox、Safari 和 Opera 等 Web 端浏览器，移动端浏览器并不支持。")]),r._v(" "),t("p",[r._v("使用过该编辑器或即将打算学习该编辑器的开发者大都有这种困恼："),t("strong",[r._v("官方文档读起来非常的晦涩，无法快速上手使用该编辑器")]),r._v("。本文档就是在笔者学习使用的过程中进行了翻译与整理得来的，但因个人精力有限，目前还在持续更新中~")]),r._v(" "),t("h2",{attrs:{id:"版本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#版本"}},[r._v("#")]),r._v(" 版本")]),r._v(" "),t("p",[r._v("本文档仅基于编写时的最新版本 "),t("a",{attrs:{href:"https://www.npmjs.com/package/monaco-editor/v/0.45.0",target:"_blank",rel:"noopener noreferrer"}},[r._v("v0.45.0"),t("OutboundLink")],1),r._v("为基准，当当前版本补充完成时即停止更新。后续若官方有更新时可参考该文档进行查看，目前并未有多版本整理的计划。")]),r._v(" "),t("h2",{attrs:{id:"标识"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#标识"}},[r._v("#")]),r._v(" 标识")]),r._v(" "),t("p",[r._v("在编写文档时，对于有特殊含义的内容会有 "),t("code",[r._v("Emoji")]),r._v(" 来标识，除非特殊说明，则一般按以下定义为主：")]),r._v(" "),t("p",[r._v("✅：标识为必选参数，不标识该表情则默认为可选参数")]),r._v(" "),t("h2",{attrs:{id:"概念"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#概念"}},[r._v("#")]),r._v(" 概念")]),r._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[r._v("提示")]),r._v(" "),t("p",[r._v("虽然 Monaco 可以很好的驱动 VSCode，但仍建议您在使用 Monaco 之前详细了解以下概念定义，才能更有效的使用 Monaco")])]),r._v(" "),t("p",[r._v("本部分内容是对 "),t("a",{attrs:{href:"https://github.com/microsoft/monaco-editor?tab=readme-ov-file#concepts",target:"_blank",rel:"noopener noreferrer"}},[r._v("官方描述"),t("OutboundLink")],1),r._v(" 进行了翻译")]),r._v(" "),t("h3",{attrs:{id:"模型-models"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#模型-models"}},[r._v("#")]),r._v(" 模型（Models）")]),r._v(" "),t("p",[r._v("Monaco 的核心就是模型了，每个模型都是唯一的，模型可以代指一个已经打开的文件，如使用 VSCode 打开一个 "),t("code",[r._v(".js")]),r._v(" 文件；也可以代指一个虚拟创建出来的用于保存文本内容的文件")]),r._v(" "),t("p",[r._v("您可以通过模型相关的 API 来更新文本内容，或为当前模型设置其对应的编程语言，或跟踪内容的编辑历史记录")]),r._v(" "),t("h3",{attrs:{id:"统一资源定位符-uris"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#统一资源定位符-uris"}},[r._v("#")]),r._v(" 统一资源定位符（URIs）")]),r._v(" "),t("p",[r._v("每个模型都是由一个 URI 进行标识的，这就是为什么不同的模型不可能具有相同的 URI 的原因。因此，建议开发者在 Monaco 中展示代码内容时，应该考虑到用户正在编辑的文件所匹配的虚拟文件系统应该是什么。例如可以使用本地文件访问协议 "),t("code",[r._v("file:///")]),r._v(" 来作为一个基本的文件访问路径")]),r._v(" "),t("p",[r._v("但是如果在没有 URI 的情况下创建了模型，则该模型的 URI 将是 "),t("code",[r._v("inmemory://model/1")]),r._v(" 且会随着模型的增多自动增加其数字")]),r._v(" "),t("h3",{attrs:{id:"编辑器-editors"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编辑器-editors"}},[r._v("#")]),r._v(" 编辑器（Editors）")]),r._v(" "),t("p",[r._v("编辑器即面向用户的一个模型视图，它是实实在在渲染到了对应的 DOM 节点上的内容，而非常典型的编辑器操作大概有如下几个，包括：")]),r._v(" "),t("ul",[t("li",[r._v("显示模型内容")]),r._v(" "),t("li",[r._v("管理视图状态")]),r._v(" "),t("li",[r._v("执行指定的操作或命令")])]),r._v(" "),t("h3",{attrs:{id:"注入器-providers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#注入器-providers"}},[r._v("#")]),r._v(" 注入器（Providers）")]),r._v(" "),t("p",[r._v("注入器可以为编辑器提供智能编辑功能，如：鼠标悬浮时的提示信息，代码自动补全，代码格式校验等")]),r._v(" "),t("p",[r._v("注入器和"),t("strong",[r._v("语言服务通信协议")]),r._v("（"),t("a",{attrs:{href:"https://microsoft.github.io/language-server-protocol/",target:"_blank",rel:"noopener noreferrer"}},[r._v("Language Server Protocol"),t("OutboundLink")],1),r._v("）不同，但通常都会映射到语言服务通信协议上")]),r._v(" "),t("p",[r._v("注入器通常是运行在"),t("strong",[r._v("模型")]),r._v("上的，同时某些智能功能取决于文件所对应的 URI 的。如：TypeScript 用于解析导入，JSON IntelliSense 用于确定模型应该应用哪个 JSON 架构。因此，选择对应的模型 URI 是非常重要的")]),r._v(" "),t("h3",{attrs:{id:"一次性物品-disposables"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一次性物品-disposables"}},[r._v("#")]),r._v(" 一次性物品（Disposables）")]),r._v(" "),t("p",[r._v("许多与 Monaco 相关的对象通常都实现了 "),t("code",[r._v(".dispose()")]),r._v(" 方法。该方法用于某些资源在不再需要时对其执行清理操作。如：当你调用 "),t("code",[r._v("model.dispose()")]),r._v(" 时将注销掉对应模型，从而释放新模型的 URI。编辑器应该在合适的时机将其资源释放掉并删除其的模型监听器")]),r._v(" "),t("h3",{attrs:{id:"语法高亮引擎-monarch"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#语法高亮引擎-monarch"}},[r._v("#")]),r._v(" 语法高亮引擎（Monarch）")]),r._v(" "),t("p",[r._v("Monarch 是一个用于语法高亮和代码块解析的通用解决方案。")]),r._v(" "),t("p",[r._v("Monarch 使用一种简单的可跨平台的基于 JSON 的描述语法来定义语法规则。通过定义词法和语法规则，它可以根据这些规则对代码进行分词（Tokenization）和高亮显示。开发人员可以使用 Monarch 来为各种编程语言和标记语言创建自定义的语法高亮。")]),r._v(" "),t("p",[r._v("Monarch 规定了一种编程语言所需要的 "),t("strong",[r._v("关键字（keyword）、变量（variable）、操作符（operator）、分词器（tokenizer）")]),r._v(" 等内容：")]),r._v(" "),t("ul",[t("li",[t("strong",[r._v("关键字（keyword）")]),r._v("：即语言的内置关键字，如 JAVA 语言中的 "),t("code",[r._v("public/private")]),r._v(" 等")]),r._v(" "),t("li",[t("strong",[r._v("变量（variable）")]),r._v("：一门语言通常都可定义其变量与常量")]),r._v(" "),t("li",[t("strong",[r._v("操作符（operator）")]),r._v("：表达式中的操作符，如 "),t("code",[r._v("=/+/-")]),r._v(" 等")]),r._v(" "),t("li",[t("strong",[r._v("分词器（tokenizer）")]),r._v("：可描述为一组正则表达式的分词规则，可根据对应的正则表达式来识别不同的内容，如：关键词、括号、注释块等内容并进行相应的高亮")])]),r._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[r._v("提示")]),r._v(" "),t("p",[r._v("Monarch 相关内容可前往深入用法中的 "),t("RouterLink",{attrs:{to:"/guide/DepthUsage.html#Monarch"}},[r._v("Monarch")]),r._v(" 进行详细查看")],1)]),r._v(" "),t("h2",{attrs:{id:"参考"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[r._v("#")]),r._v(" 参考")]),r._v(" "),t("p",[r._v("本文编写时主要参考如下几个网站与内容，同时也感谢各位的付出")]),r._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://microsoft.github.io/monaco-editor/",target:"_blank",rel:"noopener noreferrer"}},[r._v("Monaco Editor 官网"),t("OutboundLink")],1)]),r._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/microsoft/monaco-editor",target:"_blank",rel:"noopener noreferrer"}},[r._v("Monaco Editor 源码"),t("OutboundLink")],1)]),r._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/microsoft/monaco-editor/issues",target:"_blank",rel:"noopener noreferrer"}},[r._v("Monaco Editor issue"),t("OutboundLink")],1)]),r._v(" "),t("li",[t("a",{attrs:{href:"http://aydk.site/",target:"_blank",rel:"noopener noreferrer"}},[r._v("Monaco editor 学习文档"),t("OutboundLink")],1)])]),r._v(" "),t("h2",{attrs:{id:"关于"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#关于"}},[r._v("#")]),r._v(" 关于")]),r._v(" "),t("p",[r._v("本文档目前是基于 "),t("a",{attrs:{href:"https://vuepress.vuejs.org/zh/",target:"_blank",rel:"noopener noreferrer"}},[r._v("VuePress v1.x"),t("OutboundLink")],1),r._v(" 进行生成的，如果您在查阅中发现有任何问题，可以点击对应页面底部的 "),t("code",[r._v("在 GitHub 上编辑此页")]),r._v(" 进行修改并发送 PR，感谢您对文档翻译的贡献")])])}),[],!1,null,null,null);t.default=a.exports}}]);